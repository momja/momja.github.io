<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Migrating from tmux to Kitty</title>
    <link rel="stylesheet" href="../../tailwind.css">
    <script src="https://kit.fontawesome.com/675a0d1294.js" crossorigin="anonymous"></script>
    <style>
        #main {
            margin: auto;
            text-align: justify;
            width: 45rem;
        }
        
        h1 {
            font-size: 3rem;
            text-align: center;
        }
        
        h2 {
            padding-top: 2rem;
            font-size: 2rem;
            text-align: left;
        }
        
        h3 {
            padding-top: 1.5rem;
            font-size: 1.5rem;
            text-align: left;
        }
        
        h4 {
            padding-top: 1.5rem;
            font-size: 1.5rem;
            text-align: left;
            color: darkslategray;
        }
        
        p:first-of-type::first-letter {
            font-size: 4rem;
        }
        
        p {
            font-size: 1rem;
        }
        
        img,
        video {
            width: 42rem;
            margin: auto;
            padding-top: 2rem;
            padding-bottom: 2rem;
        }
    </style>
    <script>
        function goBack() {
            window.history.back();
        }
    </script>
</head>

<body class="theme">
    <div class='back-button'>
        <button class="bg-transparent mt-8 ml-8" onclick="goBack()">
            ‚Üê Back
        </button>
    </div>
    <label class="theme-switch switch" for="checkbox">
    <input type="checkbox" id="checkbox" />
    <span class="slider round"></span>
</label>


<script>
    const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

    function switchTheme(e) {
        console.log("switching themes");
        if (e.target.checked) {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
        else {
            document.documentElement.setAttribute('data-theme', 'light');
        }
    }

    toggleSwitch.addEventListener('change', switchTheme, false);
</script>

    <div id="main">
        <h1>Migrating from Tmux to Kitty</h1>

<p>So sitting at my workdesk waiting for my local changes to compile and deploy, I often find my mind wandering towards the world of <a href="https://www.reddit.com/r/unixporn/">Unix ricing</a>. Some people do it for beauty, others do it for maximizing their productivity. Regardless of the reason, before I go into any of this, let me preface the article by saying that all this is completely unnecessary. Pretty much any terminal will do the trick. But once again, I'm twiddling my thumbs waiting for deployment, so I need <em>something</em> to do. Why not finally migrate my terminal work from <a href="https://github.com/tmux/tmux">tmux</a> in <a href="https://iterm2.com/index.html">iTerm2</a> to <a href="https://sw.kovidgoyal.net/kitty/">Kitty</a>?</p>

<p>If you haven't heard of Kitty, first of all, I commend you for not wasting as much time as I do reading about development tools instead of actually working! Kitty is a modern GPU-accelerated terminal emulator available for Linux and macOS. It's written in C and python, and it's pretty extensible. It has <a href="https://sw.kovidgoyal.net/kitty/kittens/custom/">support for plugins</a> called kittens, and comes with some default ones like a theme-switcher and ssh utility.</p>

<p>Kitty offers much of the functionality of tmux - things like pane management, custom keybindings, remote control. <em>But</em>, Kitty does have some distinct advantages in my mind. For one, Kitty is a terminal <em>emulator</em>. Tmux is only a terminal <em>multiplexer</em>, and thus also requires a terminal emulator. I'd prefer to simplify the number of tools I use for my work. Kitty can replace both tmux and iTerm2, and adds some features on top like the cool cat that it is. Already mentioned is plugin support, which iTerm2 does technically support, but I always got confused trying to configure it.</p>

<p>Next and most exciting is the inline native image support. Now some terminals support something called ==<a href="#TODO">sixel graphics</a>==, which I'll admit is pretty neat. Sixel to me is a bandage fix for graphic representation in the terminal because it's not representing imgages as native images, but rather performing some computation to build images out of special ASCII symbols, which means when you try to translate or transform the image in any way, things get weird. Why deal with that when kitty has your back? It can even render GIFs!</p>

<pre><code>kitty +kitten icat ~/Downloads/kitten_falling.gif
</code></pre>

<p>![[animation.gif|"Kitty terminal output with the icat plugin"]]</p>

<p>Another reason I think Kitty is great is that it's text file configurable, which makes it <em>way</em> easier to share configurations between my work and personal computer. You can find an up-to-date copy of my kitten config file in <a href="https://github.com/momja/dotfiles/blob/master/kitty/kitty.conf">my dotfiles repository</a></p>

<h2>Reproducing my tmux configuration in Kitty</h2>

<p>I'd changed all the keybindings in tmux to match how I navigate everything else. And since I use vim keybindings in all my editors, I thought it would be nice to keep "HJKL" in use with tmux for navigating between panes and windows. I wanted to navigate between panes by simply pressing <code>ctrl-[HJKL]</code> to jump between windows vertically and horizontally, and if I wanted to create a new window, I'd press my tmux prefixer, followed by a directional key to specify where I wanted to add that new split. Kitty as far as I know doesn't have prefix keys like tmux, so I wasn't able to keep that around, but I'm OK with that. Instead, I just added another modifier key. So when I want to create a new pane, just press <code>ctrl-opt-[HJKL]</code>
<br></p>

<pre><code># Create a new window splitting the space used by the existing one so that
# the two windows are placed one above the other
map ctrl+alt+k launch --location=hsplit --cwd=current

# Create a new window splitting the space used by the existing one so that
# the two windows are placed side by side
map ctrl+alt+l launch --location=vsplit --cwd=current

# Rotate the current split, chaging its split axis from vertical to
# horizontal or vice versa
map ctrl+shift+r layout_action rotate

# Move the active window in the indicated direction
map ctrl+shift+h move_window left
map ctrl+shift+l move_window right
map ctrl+shift+k move_window up
map ctrl+shift+j move_window down

# Switch focus to the neighboring window in the indicated direction
map ctrl+h neighboring_window left
map ctrl+l neighboring_window right
map ctrl+k neighboring_window up
map ctrl+j neighboring_window down

# Switch tabs
map ctrl+cmd+l next_tab
map ctrl+cmd+h previous_tab

enabled_layouts splits:split_axis=horizontal
</code></pre>

    </div>
</body>

</html>